# р╕Ър╕Чр╕Ър╕▓р╕Чр╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З (Technician Role)

## р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

р╕Ър╕Чр╕Ър╕▓р╕Чр╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕Зр╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Гр╕лр╕бр╣И р╣Вр╕Фр╕вр╕бр╕╡р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Фр╕▒р╕Зр╕Щр╕╡р╣Й:

### ЁЯОп р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З

#### р╕лр╕Щр╣Йр╕▓р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕н
- тЭМ **р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕нр╕Зр╣Ар╕лр╣Зр╕Щ** р╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕зр╕▒р╕Ф
- тЬЕ **р╕Бр╕гр╕нр╕Зр╣Бр╕ер╕░р╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕е** р╣Др╕Фр╣Й
- тЭМ **р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕нр╕Зр╣Ар╕лр╣Зр╕Щ** р╕Ыр╕╕р╣Ир╕б р╣Бр╕Бр╣Йр╣Др╕В р╕ер╕Ър╕Чр╕┤р╣Йр╕З р╕кр╣Ир╕Зр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ
- тЬЕ **р╕Бр╕Фр╕кр╣Ир╕Зр╕Др╕│р╕гр╣Йр╕нр╕Зр╕Вр╕нр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕нр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ** р╣Др╕Фр╣Й

#### р╕лр╕Щр╣Йр╕▓р╕кр╕нр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ
- тЬЕ **р╕Др╣Йр╕Щр╕лр╕▓р╣Бр╕ер╕░р╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е**
- тЬЕ **р╕Бр╕Фр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Др╕Фр╣Й**
- тЬЕ **р╕Бр╕Фр╕ер╕Ър╣Др╕Фр╣Й**
- тЭМ **р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щр╣Др╕бр╣Ир╣Др╕Фр╣Й**
- тЭМ **р╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щр╣Др╕бр╣Ир╣Др╕Фр╣Й**

#### р╕лр╕Щр╣Йр╕▓р╕нр╕╖р╣Ир╕Щр╣Ж
- тЭМ **р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕нр╕Зр╣Ар╕лр╣Зр╕Щ** р╕лр╕Щр╣Йр╕▓р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
- тЭМ **р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕нр╕Зр╣Ар╕лр╣Зр╕Щ** р╕лр╕Щр╣Йр╕▓р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ
- тЬЕ **р╣Ар╕лр╣Зр╕Щр╕Чр╕╕р╕Бр╕нр╕вр╣Ир╕▓р╕З** р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕нр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕кр╕нр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ
- тЬЕ **р╣Ар╕лр╣Зр╕Щр╕Чр╕╕р╕Бр╕нр╕вр╣Ир╕▓р╕З** р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Ар╕Чр╕Др╕Щр╕┤р╕Д

#### р╕гр╕▓р╕вр╕Зр╕▓р╕Щр╕Ьр╕ер╕Ыр╕гр╕▒р╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ
- тЬЕ **р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Бр╕Ф export word, excel р╣Др╕Фр╣Й**
- тЬЕ **р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕Ър╕гр╕▒р╕Ър╕гр╕нр╕Зр╣Др╕Фр╣Й**

#### р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕ер╕▒р╕Зр╕Ър╣Йр╕▓р╕Щ
- тЭМ **р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Вр╣Йр╕▓р╣Др╕Фр╣Й**

## р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Ар╕Фр╕Х

### 1. Models
- `accounts/models.py` - р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕┤р╕ер╕Фр╣М `can_change_priority` р╣Бр╕ер╕░ `can_close_work`
- `accounts/migrations/0004_userrole_can_change_priority_userrole_can_close_work.py` - Migration

### 2. Permissions
- `accounts/context_processors.py` - р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Гр╕лр╕бр╣Ир╣Гр╕Щ context processor
- `accounts/admin.py` - р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣Ир╣Гр╕Щ admin interface

### 3. Commands
- `accounts/management/commands/update_technician_role.py` - Command р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Ър╕Чр╕Ър╕▓р╕Ч

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Ър╕Чр╕Ър╕▓р╕Чр╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З
```bash
python manage.py update_technician_role
```

### 2. р╕Бр╕│р╕лр╕Щр╕Фр╕Ър╕Чр╕Ър╕▓р╕Чр╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- р╣Ар╕Вр╣Йр╕▓ Admin Panel тЖТ Users
- р╣Ар╕ер╕╖р╕нр╕Бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
- р╕Бр╕│р╕лр╕Щр╕Ф User Role р╣Ар╕Ыр╣Зр╕Щ "р╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З"

### 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Гр╕Щ Template
```html
{% if user_permissions.can_add_machine %}
    <!-- р╣Бр╕кр╕Фр╕Зр╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕н -->
{% endif %}

{% if user_permissions.can_change_priority %}
    <!-- р╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щ -->
{% endif %}

{% if user_permissions.can_close_work %}
    <!-- р╣Бр╕кр╕Фр╕Зр╕Ыр╕╕р╣Ир╕бр╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щ -->
{% endif %}
```

### 4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Гр╕Щ View
```python
from accounts.permissions import PermissionRequiredMixin

class MyView(LoginRequiredMixin, PermissionRequiredMixin, ListView):
    permission_required = 'add_machine'  # р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕н
```

## р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕б

### р╕Бр╕▓р╕гр╕Др╕зр╕Ър╕Др╕╕р╕бр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щ
- `can_change_priority` - р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щ
- р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З: **False** (р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Др╕Фр╣Й)

### р╕Бр╕▓р╕гр╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щ
- `can_close_work` - р╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щ
- р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З: **False** (р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щр╣Др╕Фр╣Й)

## р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

1. **р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Гр╕лр╕бр╣И**
   - р╣Ар╕Вр╣Йр╕▓ Admin Panel тЖТ Users тЖТ Add User
   - р╕Бр╕│р╕лр╕Щр╕Ф User Role р╣Ар╕Ыр╣Зр╕Щ "р╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕З"

2. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З**
   - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕вр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Гр╕лр╕бр╣И
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕лр╣Зр╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕Щр╕╣р╕Чр╕╡р╣Ир╕нр╕Щр╕╕р╕Нр╕▓р╕Х
   - р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╣Ж р╕Хр╕▓р╕бр╕кр╕┤р╕Чр╕Шр╕┤р╣М

3. **р╕Чр╕Фр╕кр╕нр╕Ър╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Ар╕Йр╕Юр╕▓р╕░**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щр╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕н
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щр╕Ыр╕╕р╣Ир╕бр╣Бр╕Бр╣Йр╣Др╕В/р╕ер╕Ър╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕н
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╕кр╕нр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Др╕Фр╣Й
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щр╣Др╕Фр╣Й
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щр╣Др╕Фр╣Й

## р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕

- р╕Ър╕Чр╕Ър╕▓р╕Чр╣Ар╕Ир╣Йр╕▓р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕▓р╕Зр╕Ир╕░р╣Ар╕лр╣Зр╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕░р╕Ър╕Ър╕лр╕гр╕╖р╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕нр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Бр╕ер╕░р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕нр╕кр╕нр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣И
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Ир╕Зр╕Фр╣Ир╕зр╕Щр╕лр╕гр╕╖р╕нр╕Ыр╕┤р╕Фр╕Зр╕▓р╕Щр╣Др╕Фр╣Й
